{
  "key": "GT-323", 
  "fields": {
    "comment": {
      "total": 3, 
      "startAt": 0, 
      "comments": [
        {
          "body": "The above report is from an old server version.  I tested this\u00a0problem\u00a0against the gridftp server\u00a0from the Debian Squeeze GT 5.2.2 packages\u00a0provided by Globus.  I see the same behavior, namely memory use increasing without bound.\n\n#\n# The server version report:\n#\n$ /usr/sbin/globus-gridftp-server -v\nglobus_gridftp_server: 6.15 (1348095937-83)\n\nThanks,\n--Jeff", 
          "updateAuthor": {
            "displayName": "jeffk", 
            "name": "jeffk", 
            "self": "https://globus.atlassian.net/rest/api/2/user?username=jeffk", 
            "avatarUrls": {
              "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10163", 
              "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10163", 
              "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10163", 
              "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10163"
            }, 
            "emailAddress": "?", 
            "key": "jeffk", 
            "active": false, 
            "timeZone": "America/Chicago"
          }, 
          "created": "2012-11-20T10:50:32.480-0600", 
          "self": "https://globus.atlassian.net/rest/api/2/issue/19745/comment/20653", 
          "author": {
            "displayName": "jeffk", 
            "name": "jeffk", 
            "self": "https://globus.atlassian.net/rest/api/2/user?username=jeffk", 
            "avatarUrls": {
              "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10163", 
              "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10163", 
              "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10163", 
              "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10163"
            }, 
            "emailAddress": "?", 
            "key": "jeffk", 
            "active": false, 
            "timeZone": "America/Chicago"
          }, 
          "updated": "2012-11-20T10:50:32.480-0600", 
          "id": "20653"
        }, 
        {
          "body": "One more note: when a client caches its connection to the server, it is able to perform many different actions without causing the memory problem server-side.  Memory use appears to be a function of the # of connections by a client and not actions taken by the client.  (This was observed using a small client written against the C API.)", 
          "updateAuthor": {
            "displayName": "jeffk", 
            "name": "jeffk", 
            "self": "https://globus.atlassian.net/rest/api/2/user?username=jeffk", 
            "avatarUrls": {
              "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10163", 
              "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10163", 
              "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10163", 
              "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10163"
            }, 
            "emailAddress": "?", 
            "key": "jeffk", 
            "active": false, 
            "timeZone": "America/Chicago"
          }, 
          "created": "2012-11-20T15:29:14.500-0600", 
          "self": "https://globus.atlassian.net/rest/api/2/issue/19745/comment/20660", 
          "author": {
            "displayName": "jeffk", 
            "name": "jeffk", 
            "self": "https://globus.atlassian.net/rest/api/2/user?username=jeffk", 
            "avatarUrls": {
              "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10163", 
              "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10163", 
              "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10163", 
              "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10163"
            }, 
            "emailAddress": "?", 
            "key": "jeffk", 
            "active": false, 
            "timeZone": "America/Chicago"
          }, 
          "updated": "2012-11-20T15:29:46.756-0600", 
          "id": "20660"
        }, 
        {
          "body": "Fixed for 5.2.4", 
          "updateAuthor": {
            "displayName": "Mike Link", 
            "name": "mlink", 
            "self": "https://globus.atlassian.net/rest/api/2/user?username=mlink", 
            "avatarUrls": {
              "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10162", 
              "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10162", 
              "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10162", 
              "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10162"
            }, 
            "emailAddress": "mlink@mcs.anl.gov", 
            "key": "mlink", 
            "active": true, 
            "timeZone": "America/Chicago"
          }, 
          "created": "2013-01-14T08:05:20.044-0600", 
          "self": "https://globus.atlassian.net/rest/api/2/issue/19745/comment/20963", 
          "author": {
            "displayName": "Mike Link", 
            "name": "mlink", 
            "self": "https://globus.atlassian.net/rest/api/2/user?username=mlink", 
            "avatarUrls": {
              "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10162", 
              "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10162", 
              "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10162", 
              "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10162"
            }, 
            "emailAddress": "mlink@mcs.anl.gov", 
            "key": "mlink", 
            "active": true, 
            "timeZone": "America/Chicago"
          }, 
          "updated": "2013-01-14T08:05:20.044-0600", 
          "id": "20963"
        }
      ], 
      "maxResults": 3
    }, 
    "customfield_10480": null, 
    "customfield_10282": null, 
    "creator": {
      "displayName": "jeffk", 
      "name": "jeffk", 
      "self": "https://globus.atlassian.net/rest/api/2/user?username=jeffk", 
      "avatarUrls": {
        "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10163", 
        "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10163", 
        "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10163", 
        "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10163"
      }, 
      "emailAddress": "?", 
      "key": "jeffk", 
      "active": false, 
      "timeZone": "America/Chicago"
    }, 
    "customfield_10600": null, 
    "customfield_10601": null, 
    "customfield_10602": null, 
    "labels": [
      "GridFTP"
    ], 
    "customfield_10604": null, 
    "customfield_10380": "0|101bk8:", 
    "watches": {
      "self": "https://globus.atlassian.net/rest/api/2/issue/GT-323/watchers", 
      "watchCount": 0, 
      "isWatching": false
    }, 
    "assignee": {
      "displayName": "Mike Link", 
      "name": "mlink", 
      "self": "https://globus.atlassian.net/rest/api/2/user?username=mlink", 
      "avatarUrls": {
        "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10162", 
        "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10162", 
        "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10162", 
        "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10162"
      }, 
      "emailAddress": "mlink@mcs.anl.gov", 
      "key": "mlink", 
      "active": true, 
      "timeZone": "America/Chicago"
    }, 
    "lastViewed": null, 
    "customfield_10287": "1_*:*_1_*:*_4790804322_*|*_5_*:*_1_*:*_0", 
    "customfield_10280": "9223372036854775807", 
    "issuelinks": [], 
    "customfield_10283": null, 
    "customfield_10780": "com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@71b4e4", 
    "summary": "memory leak in globus-gridftp-server ", 
    "customfield_10288": "2013-01-14T08:05:20.044-0600", 
    "aggregateprogress": {
      "progress": 0, 
      "total": 0
    }, 
    "customfield_10024": null, 
    "project": {
      "name": "Globus Toolkit", 
      "self": "https://globus.atlassian.net/rest/api/2/project/10363", 
      "avatarUrls": {
        "24x24": "https://globus.atlassian.net/secure/projectavatar?size=small&pid=10363&avatarId=10011", 
        "32x32": "https://globus.atlassian.net/secure/projectavatar?size=medium&pid=10363&avatarId=10011", 
        "48x48": "https://globus.atlassian.net/secure/projectavatar?pid=10363&avatarId=10011", 
        "16x16": "https://globus.atlassian.net/secure/projectavatar?size=xsmall&pid=10363&avatarId=10011"
      }, 
      "projectCategory": {
        "self": "https://globus.atlassian.net/rest/api/2/projectCategory/10040", 
        "id": "10040", 
        "name": "Globus Toolkit", 
        "description": "Globus Toolkit - all components"
      }, 
      "key": "GT", 
      "id": "10363"
    }, 
    "votes": {
      "hasVoted": false, 
      "self": "https://globus.atlassian.net/rest/api/2/issue/GT-323/votes", 
      "votes": 0
    }, 
    "customfield_10598": null, 
    "customfield_10599": null, 
    "customfield_10597": null, 
    "fixVersions": [
      {
        "archived": false, 
        "name": "Sprint 2012-12-04", 
        "self": "https://globus.atlassian.net/rest/api/2/version/11035", 
        "releaseDate": "2012-12-04", 
        "released": true, 
        "id": "11035", 
        "description": ""
      }, 
      {
        "archived": false, 
        "name": "5.2.4", 
        "self": "https://globus.atlassian.net/rest/api/2/version/11066", 
        "releaseDate": "2013-02-13", 
        "released": true, 
        "id": "11066", 
        "description": ""
      }
    ], 
    "priority": {
      "iconUrl": "https://globus.atlassian.net/images/icons/priorities/major.svg", 
      "self": "https://globus.atlassian.net/rest/api/2/priority/3", 
      "name": "Major", 
      "id": "3"
    }, 
    "timespent": null, 
    "attachment": [
      {
        "mimeType": "text/plain", 
        "created": "2012-11-19T21:18:35.843-0600", 
        "self": "https://globus.atlassian.net/rest/api/2/attachment/10958", 
        "filename": "gridftp_300s.log", 
        "content": "https://globus.atlassian.net/secure/attachment/10958/gridftp_300s.log", 
        "id": "10958", 
        "size": 21163
      }, 
      {
        "mimeType": "application/octet-stream", 
        "created": "2012-11-19T21:18:35.841-0600", 
        "self": "https://globus.atlassian.net/rest/api/2/attachment/10957", 
        "filename": "gridftp.conf", 
        "content": "https://globus.atlassian.net/secure/attachment/10957/gridftp.conf", 
        "id": "10957", 
        "size": 2141
      }
    ], 
    "aggregatetimeestimate": null, 
    "progress": {
      "progress": 0, 
      "total": 0
    }, 
    "status": {
      "statusCategory": {
        "name": "Done", 
        "self": "https://globus.atlassian.net/rest/api/2/statuscategory/3", 
        "id": 3, 
        "key": "done", 
        "colorName": "green"
      }, 
      "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", 
      "self": "https://globus.atlassian.net/rest/api/2/status/5", 
      "iconUrl": "https://globus.atlassian.net/images/icons/statuses/resolved.png", 
      "id": "5", 
      "name": "Resolved"
    }, 
    "updated": "2013-01-14T08:05:20.045-0600", 
    "customfield_10603": null, 
    "subtasks": [], 
    "description": "A rename command issued from a client causes the gridftp server to leak memory.  Over time, the server process consumes all machine memory.\n\nThe following bash command illustrates this. \n\n#\n# rename /tmp/foo -> /tmp/bar and then undo; repeat.\n#\ntouch /tmp/foo; rm -f /tmp/bar; i=0; while [ 1 ]; do /usr/bin/uberftp -rename gsiftp://slave1.localdomain:15000/tmp/foo  /tmp/bar || break; /usr/bin/uberftp -rename gsiftp://slave1.localdomain:15000/tmp/bar  /tmp/foo || break; echo $(( i=i+1 )); done\n\nTo see the memory footprint, the following command was executed.  Attached is the output of 300s.\n\n#\n# run ps with some args to watch gridftp-server process, sleep 1s; repeat.\n#\nwhile [ 1 ]; do ps -eo pid,user,%mem,rss,vsz,%cpu,command | grep gridftp | grep -v grep >> gridftp.log; sleep 1; done\n\nAlso attached is the configuration file that was used by gridftp-server process.", 
    "reporter": {
      "displayName": "jeffk", 
      "name": "jeffk", 
      "self": "https://globus.atlassian.net/rest/api/2/user?username=jeffk", 
      "avatarUrls": {
        "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10163", 
        "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10163", 
        "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10163", 
        "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10163"
      }, 
      "emailAddress": "?", 
      "key": "jeffk", 
      "active": false, 
      "timeZone": "America/Chicago"
    }, 
    "worklog": {
      "worklogs": [], 
      "total": 0, 
      "startAt": 0, 
      "maxResults": 20
    }, 
    "customfield_10020": null, 
    "timeoriginalestimate": null, 
    "environment": "Debian Squeeze, package name is globus-gridftp-server-progs 3.23-1+squeeze1\nRunning on virtualbox vm, ~2G memory, 2 cpus.", 
    "customfield_10680": null, 
    "customfield_10681": null, 
    "aggregatetimeoriginalestimate": null, 
    "created": "2012-11-19T21:18:35.727-0600", 
    "versions": [
      {
        "archived": false, 
        "name": "5.0.5", 
        "self": "https://globus.atlassian.net/rest/api/2/version/10923", 
        "releaseDate": "2012-03-08", 
        "released": true, 
        "id": "10923"
      }
    ], 
    "resolutiondate": "2013-01-14T08:05:20.015-0600", 
    "workratio": -1, 
    "aggregatetimespent": null, 
    "timetracking": {}, 
    "components": [
      {
        "self": "https://globus.atlassian.net/rest/api/2/component/10325", 
        "id": "10325", 
        "name": "GridFTP"
      }
    ], 
    "issuetype": {
      "name": "Bug", 
      "self": "https://globus.atlassian.net/rest/api/2/issuetype/1", 
      "iconUrl": "https://globus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=11043&avatarType=issuetype", 
      "subtask": false, 
      "avatarId": 11043, 
      "id": "1", 
      "description": "A problem which impairs or prevents the functions of the product."
    }, 
    "resolution": {
      "self": "https://globus.atlassian.net/rest/api/2/resolution/1", 
      "id": "1", 
      "name": "Fixed", 
      "description": "A fix for this issue is checked into the tree and tested."
    }, 
    "timeestimate": null
  }, 
  "self": "https://globus.atlassian.net/rest/api/2/issue/19745", 
  "id": "19745", 
  "expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations"
}