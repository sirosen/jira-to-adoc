{
  "key": "GT-630", 
  "fields": {
    "comment": {
      "total": 1, 
      "startAt": 0, 
      "comments": [
        {
          "body": "Those functions don't have any locks in them. What makes you think they are the problem? Can you give some more context?", 
          "updateAuthor": {
            "displayName": "Joe Bester", 
            "name": "bester", 
            "self": "https://globus.atlassian.net/rest/api/2/user?username=bester", 
            "avatarUrls": {
              "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10162", 
              "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10162", 
              "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10162", 
              "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10162"
            }, 
            "emailAddress": "bester@mcs.anl.gov", 
            "key": "bester", 
            "active": true, 
            "timeZone": "America/New_York"
          }, 
          "created": "2015-11-20T11:25:19.430-0600", 
          "self": "https://globus.atlassian.net/rest/api/2/issue/30239/comment/33388", 
          "author": {
            "displayName": "Joe Bester", 
            "name": "bester", 
            "self": "https://globus.atlassian.net/rest/api/2/user?username=bester", 
            "avatarUrls": {
              "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10162", 
              "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10162", 
              "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10162", 
              "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10162"
            }, 
            "emailAddress": "bester@mcs.anl.gov", 
            "key": "bester", 
            "active": true, 
            "timeZone": "America/New_York"
          }, 
          "updated": "2015-11-20T11:25:19.430-0600", 
          "id": "33388"
        }
      ], 
      "maxResults": 1
    }, 
    "customfield_10480": null, 
    "customfield_10282": null, 
    "creator": null, 
    "customfield_10600": null, 
    "customfield_10601": null, 
    "customfield_10602": null, 
    "labels": [], 
    "customfield_10604": null, 
    "customfield_10380": "0|zq5w6q:", 
    "watches": {
      "self": "https://globus.atlassian.net/rest/api/2/issue/GT-630/watchers", 
      "watchCount": 1, 
      "isWatching": false
    }, 
    "assignee": {
      "displayName": "Joe Bester", 
      "name": "bester", 
      "self": "https://globus.atlassian.net/rest/api/2/user?username=bester", 
      "avatarUrls": {
        "24x24": "https://globus.atlassian.net/secure/useravatar?size=small&avatarId=10162", 
        "32x32": "https://globus.atlassian.net/secure/useravatar?size=medium&avatarId=10162", 
        "48x48": "https://globus.atlassian.net/secure/useravatar?avatarId=10162", 
        "16x16": "https://globus.atlassian.net/secure/useravatar?size=xsmall&avatarId=10162"
      }, 
      "emailAddress": "bester@mcs.anl.gov", 
      "key": "bester", 
      "active": true, 
      "timeZone": "America/New_York"
    }, 
    "lastViewed": null, 
    "customfield_10287": "1_*:*_1_*:*_4235238592_*|*_5_*:*_1_*:*_0", 
    "customfield_10280": "9223372036854775807", 
    "issuelinks": [], 
    "customfield_10283": null, 
    "customfield_10780": "com.atlassian.servicedesk.plugins.approvals.internal.customfield.ApprovalsCFValue@d91e09", 
    "summary": "Deadlock between globus_hashtable_size() and globus_hashtable_remove() in libglobus_common", 
    "customfield_10288": null, 
    "aggregateprogress": {
      "progress": 0, 
      "total": 0
    }, 
    "customfield_10024": null, 
    "project": {
      "name": "Globus Toolkit", 
      "self": "https://globus.atlassian.net/rest/api/2/project/10363", 
      "avatarUrls": {
        "24x24": "https://globus.atlassian.net/secure/projectavatar?size=small&pid=10363&avatarId=10011", 
        "32x32": "https://globus.atlassian.net/secure/projectavatar?size=medium&pid=10363&avatarId=10011", 
        "48x48": "https://globus.atlassian.net/secure/projectavatar?pid=10363&avatarId=10011", 
        "16x16": "https://globus.atlassian.net/secure/projectavatar?size=xsmall&pid=10363&avatarId=10011"
      }, 
      "projectCategory": {
        "self": "https://globus.atlassian.net/rest/api/2/projectCategory/10040", 
        "id": "10040", 
        "name": "Globus Toolkit", 
        "description": "Globus Toolkit - all components"
      }, 
      "key": "GT", 
      "id": "10363"
    }, 
    "votes": {
      "hasVoted": false, 
      "self": "https://globus.atlassian.net/rest/api/2/issue/GT-630/votes", 
      "votes": 0
    }, 
    "customfield_10598": null, 
    "customfield_10599": null, 
    "customfield_10597": null, 
    "fixVersions": [], 
    "priority": {
      "iconUrl": "https://globus.atlassian.net/images/icons/priorities/minor.svg", 
      "self": "https://globus.atlassian.net/rest/api/2/priority/4", 
      "name": "Minor", 
      "id": "4"
    }, 
    "timespent": null, 
    "attachment": [], 
    "aggregatetimeestimate": null, 
    "progress": {
      "progress": 0, 
      "total": 0
    }, 
    "status": {
      "statusCategory": {
        "name": "Done", 
        "self": "https://globus.atlassian.net/rest/api/2/statuscategory/3", 
        "id": 3, 
        "key": "done", 
        "colorName": "green"
      }, 
      "description": "A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.", 
      "self": "https://globus.atlassian.net/rest/api/2/status/5", 
      "iconUrl": "https://globus.atlassian.net/images/icons/statuses/resolved.png", 
      "id": "5", 
      "name": "Resolved"
    }, 
    "updated": "2016-01-08T11:43:53.805-0600", 
    "customfield_10603": null, 
    "subtasks": [
      {
        "fields": {
          "status": {
            "statusCategory": {
              "name": "To Do", 
              "self": "https://globus.atlassian.net/rest/api/2/statuscategory/2", 
              "id": 2, 
              "key": "new", 
              "colorName": "blue-gray"
            }, 
            "description": "The issue is open and ready for the assignee to start work on it.", 
            "self": "https://globus.atlassian.net/rest/api/2/status/1", 
            "iconUrl": "https://globus.atlassian.net/images/icons/statuses/open.png", 
            "id": "1", 
            "name": "Open"
          }, 
          "priority": {
            "iconUrl": "https://globus.atlassian.net/images/icons/priorities/minor.svg", 
            "self": "https://globus.atlassian.net/rest/api/2/priority/4", 
            "name": "Minor", 
            "id": "4"
          }, 
          "issuetype": {
            "name": "Sub-task", 
            "self": "https://globus.atlassian.net/rest/api/2/issuetype/7", 
            "iconUrl": "https://globus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=11056&avatarType=issuetype", 
            "subtask": true, 
            "avatarId": 11056, 
            "id": "7", 
            "description": "The sub-task of the issue"
          }, 
          "summary": "Follow up"
        }, 
        "self": "https://globus.atlassian.net/rest/api/2/issue/30831", 
        "id": "30831", 
        "key": "GT-633"
      }
    ], 
    "description": "Hello,\r\nWe are testing an SRM service based on Globus, and we have observed a deadlock between the mentioned functions, which locked up all the threads of our daemon. This is a pre-production service at CERN, which is supposed to go to production soon.\r\n\r\nA stack trace follows, I can provide a full core dump if needed:\r\n{noformat}\r\nThread 11 (Thread 0x7f89f8daa700 (LWP 9386)):\r\n#0  0x0000003a84624466 in globus_hashtable_remove (table=0xc60c, key=0xc1a4) at globus_hashtable.c:466\r\n#1  0x00007f89f8da8d50 in ?? ()\r\n#2  0x0000003a84849ae0 in ?? () from /usr/lib64/libglobus_common.so.0\r\n#3  0x0000000000000000 in ?? ()\r\n\r\nThread 9 (Thread 0x7f89f8deb700 (LWP 9385)):\r\n#0  0x0000003a846242b5 in globus_hashtable_size (table=<value optimized out>) at globus_hashtable.c:598\r\n#1  0x00007f89dc0b98b0 in ?? ()\r\n#2  0x000000000000c6f9 in ?? ()\r\n#3  0x000000000000c6f9 in ?? ()\r\n#4  0x0000003a8501f080 in ?? () from /usr/lib64/libglobus_gssapi_gsi.so.4\r\n#5  0x0000003a8461efe1 in globus_error_put (error=0x7f89c8018a20) at globus_error.c:437\r\n#6  0x0000003a84e161ea in globus_i_gsi_gssapi_openssl_error_result () from /usr/lib64/libglobus_gssapi_gsi.so.4\r\n#7  0x0000003a84e0f4ed in gss_release_name () from /usr/lib64/libglobus_gssapi_gsi.so.4\r\n\r\nThread 5 (Thread 0x7f89f8f71700 (LWP 9379)):\r\n#0  0x0000003a846242ae in fprintf (table=<value optimized out>) at /usr/include/bits/stdio2.h:98\r\n#1  globus_hashtable_size (table=<value optimized out>) at globus_hashtable.c:598\r\n#2  0x00007f89f00b79b0 in ?? ()\r\n#3  0x000000000000c6b8 in ?? ()\r\n#4  0x000000000000c6b8 in ?? ()\r\n#5  0x0000003a8600bb48 in ?? () from /usr/lib64/libglobus_gsi_sysconfig.so.1\r\n#6  0x0000003a8461efe1 in globus_error_put (error=0x7f89cc176760) at globus_error.c:437\r\n#7  0x0000003a85e09150 in globus_i_gsi_sysconfig_error_result () from /usr/lib64/libglobus_gsi_sysconfig.so.1\r\n#8  0x0000003a85e038d6 in globus_gsi_sysconfig_dir_exists_unix () from /usr/lib64/libglobus_gsi_sysconfig.so.1\r\n#9  0x0000003a85e083a6 in globus_i_gsi_sysconfig_create_cert_dir_string () from /usr/lib64/libglobus_gsi_sysconfig.so.1\r\n#10 0x0000003a85e0866e in globus_gsi_sysconfig_get_cert_dir_unix () from /usr/lib64/libglobus_gsi_sysconfig.so.1\r\n#11 0x0000003a84e14e99 in globus_i_gsi_gss_create_and_fill_context () from /usr/lib64/libglobus_gssapi_gsi.so.4\r\n#12 0x0000003a84e07e5d in gss_accept_sec_context () from /usr/lib64/libglobus_gssapi_gsi.so.4\r\n\r\nThread 2 (Thread 0x7f89f8eef700 (LWP 9381)):\r\n#0  0x0000003a846242ae in fprintf (table=<value optimized out>) at /usr/include/bits/stdio2.h:98\r\n#1  globus_hashtable_size (table=<value optimized out>) at globus_hashtable.c:598\r\n#2  0x00007f89c81b02f0 in ?? ()\r\n#3  0x000000000000c73a in ?? ()\r\n#4  0x000000000000c73a in ?? ()\r\n#5  0x0000003a8501f080 in ?? () from /usr/lib64/libglobus_gssapi_gsi.so.4\r\n#6  0x0000003a8461efe1 in globus_error_put (error=0x7f89cc00c980) at globus_error.c:437\r\n#7  0x0000003a84e161ea in globus_i_gsi_gssapi_openssl_error_result () from /usr/lib64/libglobus_gssapi_gsi.so.4\r\n#8  0x0000003a84e0f4ed in gss_release_name () from /usr/lib64/libglobus_gssapi_gsi.so.4\r\n{noformat}\r\n", 
    "reporter": null, 
    "worklog": {
      "worklogs": [], 
      "total": 0, 
      "startAt": 0, 
      "maxResults": 20
    }, 
    "customfield_10020": null, 
    "timeoriginalestimate": null, 
    "environment": null, 
    "customfield_10680": null, 
    "customfield_10681": null, 
    "aggregatetimeoriginalestimate": null, 
    "created": "2015-11-20T11:16:35.227-0600", 
    "versions": [], 
    "resolutiondate": "2016-01-08T11:43:53.796-0600", 
    "workratio": -1, 
    "aggregatetimespent": null, 
    "timetracking": {}, 
    "components": [
      {
        "self": "https://globus.atlassian.net/rest/api/2/component/10327", 
        "id": "10327", 
        "name": "Common Libs"
      }
    ], 
    "issuetype": {
      "name": "Bug", 
      "self": "https://globus.atlassian.net/rest/api/2/issuetype/1", 
      "iconUrl": "https://globus.atlassian.net/secure/viewavatar?size=xsmall&avatarId=11043&avatarType=issuetype", 
      "subtask": false, 
      "avatarId": 11043, 
      "id": "1", 
      "description": "A problem which impairs or prevents the functions of the product."
    }, 
    "resolution": {
      "self": "https://globus.atlassian.net/rest/api/2/resolution/8", 
      "id": "8", 
      "name": "No Need to Fix", 
      "description": "The work in this JIRA has been considered unnecessary for the reasons detailed in the resolution."
    }, 
    "timeestimate": null
  }, 
  "self": "https://globus.atlassian.net/rest/api/2/issue/30239", 
  "id": "30239", 
  "expand": "renderedFields,names,schema,operations,editmeta,changelog,versionedRepresentations"
}